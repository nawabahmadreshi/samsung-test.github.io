<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="icon"  href="/favicon.ico" />
<title>Graphics and UI</title>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<base id="baseURL" href="/1.1/" />
<meta id="docsVersion" content="1.1" />
<meta name="last-modified" content="2019-12-09 14:08:01 +0530" />
<meta http-equiv="cache-control" content="max-age=24" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Cache-Control" content="no-store" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="Expires" content="600" />

<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/pygments/perldoc.css">
<link rel="stylesheet" href="/css/style.css?v=09122019">
<link rel="stylesheet" href="/css/github.css?v=09122019">


</head>
<body class=" latestVersion">
	 <header>
    <div class="header">
        <nav class="nav-secondary-tabs affix" >
            <div class="container-fluid">
                <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
                    <div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <a class="logo" href="/" title="Tizen Documentation">
        Tizen
    </a>
    <div id="tabs">
        
        
        <ul class="tabs" id="jsTOCHorizontal">
            <li class="">
                <a href="design/">Design</a>
            </li>
            <li class="">
                <a href="application/">Development</a>
            </li>
            <li class="active">
                <a href="iot/">IoT</a>
            </li>
            <li class="">
                <a href="tizenstudio/setup/overview/">Tizen Studio</a>
            </li>
        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="widgetVersionSwitcher"></div>
    </div>
    <div class="search-form">
        <form action="search.html">
            <input class="search-field form-control ds-input st-search-input" value="" name="q" placeholder="Search the docs" type="search" autocomplete="off" spellcheck="false" dir="auto">
            <button type="submit" class="search-button">
                <i class="fa fa-search"></i>
            </button>
        </form>
    </div>
    
</div>

                </div>
            </div>
        </nav>
    </div>
</header>
    <div class="wrapper right-open">
		<div class="container-fluid">
			<div class="row">
				<div class="col-body">
					<main class="col-content content">
						<section class="section">
							<nav class="breadcrumbs bootstrap hidden-sm-down">
   <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

       
          
      
      <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
         <a property="item" typeof="WebPage" href="/1.1/">
            <span property="name">Documentation</span>
            <meta property="position" content="1" />
         </a>
      </li>
       
          
      
      <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
         <a property="item" typeof="WebPage" href="/1.1/iot/">
            <span property="name">Tizen Open Source Project</span>
            <meta property="position" content="2" />
         </a>
      </li>
       
          
      
      <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
         <span property="name">Graphics and UI</span>
         <meta property="position" content="3" />
      </li>
      
   </ol>
</nav>



<!-- This is an example of CSS. Maybe you want to implement the css code into your main css file or modify it as you want -->
<style>
   nav.breadcrumbs.bootstrap {
      /* from Twitter Bootstrap 4 */
      /* If you already use Twitter, you do not need these css lines above, cause they already in Twitter Bootstrap */
      /* Additions: image integration */
   }

   nav.breadcrumbs.bootstrap ol {
      margin-left: 0
   }

   nav.breadcrumbs.bootstrap .breadcrumb {
      font-size: 1rem;
      padding: 0.75rem 1rem;
      margin-bottom: 1rem;
      list-style: none;
      background-color: #f1f2ed;
      border-radius: 0.25rem;
   }

   nav.breadcrumbs.bootstrap .breadcrumb::after {
      content: "";
      display: table;
      clear: both;
   }

   nav.breadcrumbs.bootstrap .breadcrumb-item {
      float: left;
   }

   nav.breadcrumbs.bootstrap .breadcrumb-item+.breadcrumb-item::before {
      display: inline-block;
      padding-right: 0.5rem;
      padding-left: 0.5rem;
      color: #818a91;
      content: "/";
   }

   nav.breadcrumbs.bootstrap .breadcrumb-item+.breadcrumb-item:hover::before {
      text-decoration: underline;
   }

   nav.breadcrumbs.bootstrap .breadcrumb-item+.breadcrumb-item:hover::before {
      text-decoration: none;
   }

   nav.breadcrumbs.bootstrap .breadcrumb-item-active {
      color: #818a91;
   }

   nav.breadcrumbs.bootstrap .breadcrumb .icon {
      display: inline-block;
   }

   nav.breadcrumbs.bootstrap .breadcrumb .icon svg {
      height: 0.8rem;
      width: 0.8rem;
   }
</style>

							<div class="widgetLatestVersionNotification"></div>
							<h1 id="graphics-and-ui">Graphics and UI</h1>

<p>The application composes the graphic user interface by creating a window with a toolkit. The display server composites an application’s windows and shows the result on the screen. For this procedure, the graphics and UI middleware offers the following 3 modules for both client and server:</p>

<ul>
  <li><a href="https://wiki.tizen.org/TBM">Tizen Buffer Manager (TBM)</a></li>
  <li><a href="https://wiki.tizen.org/TDM">Tizen Display Manager (TDM)</a></li>
  <li><a href="https://wiki.tizen.org/3.0_Porting_Guide/Graphics_and_UI/OpenGL">TPL-EGL</a></li>
</ul>

<p><strong>Figure: Graphics UI diagram</strong></p>

<p><img src="media/graphics-ui-diagram.png" alt="Graphics UI diagram" /></p>

<p>The modules are hardware abstraction layers for graphics and UI. They allow the client and server to render with the GPU, share buffers with other processes, and organize hardware output devices for various chipsets. Their backend module needs to be implemented for the new hardware device.</p>

<ul>
  <li>TBM provides an abstraction interface for the Tizen graphic buffer manager.</li>
  <li>TDM provides an abstraction interface for a display server, such as X or Wayland, to allow direct access to graphics hardware in a safe and efficient manner as a display HAL.</li>
  <li>TPL-EGL is an abstraction layer for surface and buffer management on the Tizen platform aimed to implement the EGL™ porting layer of the OpenGL® ES driver over various display protocols.</li>
</ul>

<p>For an application to handle input device events, the <a href="https://wiki.tizen.org/3.0_Porting_Guide/Graphics_and_UI/Input">Input Manager</a> is provided, and is mainly comprised of <code class="highlighter-rouge">libinput</code> and a thin wrapper around it. It handles input events in Wayland compositors and communicates with Wayland clients.</p>

<h2 id="buffer-management">Buffer Management</h2>

<p>TBM has a frontend library and a backend module. The TBM frontend library is hardware-independent and provides a generic buffer interface. On the other hand, the TBM backend module is hardware-dependent and provides a buffer interface dependent on the target system. Chipset vendors have to provide their own backend modules in order for TBM to work well on the Tizen platform. This is because the way each vendor manages the graphic buffers can be different between various chipset devices. TBM already has several reference backends, such as <code class="highlighter-rouge">libtbm-dumb</code>, and <code class="highlighter-rouge">libtbm-shm</code>.</p>

<p><strong>Figure: TBM backend</strong></p>

<p><img src="media/800px-tbm-backend.png" alt="TBM backend" /></p>

<p>With TBM, the client and server can allocate buffers and share buffers between them. For example, a client allocates a graphic buffer, draws something on it with GL and sends it to the display server for displaying it on the screen without buffer copying. The TBM backend module is implemented as a shared library and the TBM frontend finds the <code class="highlighter-rouge">libtbm-default.so</code> file and loads it from the <code class="highlighter-rouge">/usr/lib/bufmgr</code> directory at runtime.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sh-3.2# ls -al
lrwxrwxrwx  1 root root    14 Jul 28  2016 libtbm_default.so -&gt; libtbm_sprd.so
lrwxrwxrwx  1 root root    20 Jul 28  2016 libtbm_sprd.so -&gt; libtbm_sprd.so.0.0.0
lrwxrwxrwx  1 root root    20 Jul 28  2016 libtbm_sprd.so.0 -&gt; libtbm_sprd.so.0.0.0
-rwxr-xr-x  1 root root 26728 Jun 29  2016 libtbm_sprd.so.0.0.0
</code></pre></div></div>

<h3 id="initialing-the-tbm-backend-module">Initialing the TBM Backend Module</h3>

<p>The <code class="highlighter-rouge">TBMModuleData</code> is for the entry point symbol to initialize the TBM backend module. The TBM backend module must define the global data symbol with the name of <code class="highlighter-rouge">tbmModuleData</code>. The TBM frontend loads the <code class="highlighter-rouge">tbmModuleData</code> global data symbol and calls the <code class="highlighter-rouge">init()</code> function at the initial time.</p>

<blockquote>
  <p><strong>Note</strong></p>

  <p>Do not change the name of the symbol in the TBM backend module.</p>
</blockquote>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
   @brief tbm module data
   Data type for the entry point of the backend module
*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">TBMModuleVersionInfo</span> <span class="o">*</span><span class="n">vers</span><span class="p">;</span>	<span class="cm">/* TBM module information */</span>
    <span class="n">ModuleInitProc</span> <span class="n">init</span><span class="p">;</span> <span class="cm">/* init function of a backend module */</span>
<span class="p">}</span> <span class="n">TBMModuleData</span><span class="p">;</span>

<span class="k">typedef</span> <span class="nf">int</span> <span class="p">(</span><span class="o">*</span><span class="n">ModuleInitProc</span><span class="p">)</span> <span class="p">(</span><span class="n">tbm_bufmgr</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
</code></pre></div></div>

<p>The TBM backend module initialization consists of allocating the <code class="highlighter-rouge">tbm_bufmgr_backend</code> instance (<code class="highlighter-rouge">tbm_backend_alloc</code>), entering the necessary information, and the initialization itself (<code class="highlighter-rouge">tbm_backend_init</code>).</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tbm_bufmgr_backend</span> <span class="nf">tbm_backend_alloc</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">tbm_backend_free</span><span class="p">(</span><span class="n">tbm_bufmgr_backend</span> <span class="n">backend</span><span class="p">);</span>
<span class="kt">int</span> <span class="nf">tbm_backend_init</span><span class="p">(</span><span class="n">tbm_bufmgr</span> <span class="n">bufmgr</span><span class="p">,</span> <span class="n">tbm_bufmgr_backend</span> <span class="n">backend</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">MODULEINITPPROTO</span> <span class="p">(</span><span class="n">init_tbm_bufmgr_priv</span><span class="p">);</span>

<span class="k">static</span> <span class="n">TBMModuleVersionInfo</span> <span class="n">DumbVersRec</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"shm"</span><span class="p">,</span>
    <span class="s">"Samsung"</span><span class="p">,</span>
    <span class="n">TBM_ABI_VERSION</span><span class="p">,</span>
<span class="p">};</span>

<span class="n">TBMModuleData</span> <span class="n">tbmModuleData</span> <span class="o">=</span> <span class="p">{</span><span class="o">&amp;</span><span class="n">DumbVersRec</span><span class="p">,</span> <span class="n">init_tbm_bufmgr_priv</span><span class="p">};</span>

<span class="kt">int</span>
<span class="nf">init_tbm_bufmgr_priv</span><span class="p">(</span><span class="n">tbm_bufmgr</span> <span class="n">bufmgr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">fd</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">tbm_bufmgr_backend</span> <span class="n">bufmgr_backend</span><span class="p">;</span>

    <span class="n">bufmgr_shm</span> <span class="o">=</span> <span class="n">calloc</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_tbm_bufmgr_shm</span><span class="p">));</span>

    <span class="n">bufmgr_backend</span> <span class="o">=</span> <span class="n">tbm_backend_alloc</span><span class="p">();</span>

    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">priv</span> <span class="o">=</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="p">)</span><span class="n">bufmgr_shm</span><span class="p">;</span>
    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">bufmgr_deinit</span> <span class="o">=</span> <span class="n">tbm_shm_bufmgr_deinit</span><span class="p">,</span>
    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">bo_size</span> <span class="o">=</span> <span class="n">tbm_shm_bo_size</span><span class="p">,</span>
    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">bo_alloc</span> <span class="o">=</span> <span class="n">tbm_shm_bo_alloc</span><span class="p">,</span>
    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">bo_free</span> <span class="o">=</span> <span class="n">tbm_shm_bo_free</span><span class="p">,</span>
    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">bo_import</span> <span class="o">=</span> <span class="n">tbm_shm_bo_import</span><span class="p">,</span>
    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">bo_import_fd</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">bo_export</span> <span class="o">=</span> <span class="n">tbm_shm_bo_export</span><span class="p">,</span>
    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">bo_export_fd</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">bo_get_handle</span> <span class="o">=</span> <span class="n">tbm_shm_bo_get_handle</span><span class="p">,</span>
    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">bo_map</span> <span class="o">=</span> <span class="n">tbm_shm_bo_map</span><span class="p">,</span>
    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">bo_unmap</span> <span class="o">=</span> <span class="n">tbm_shm_bo_unmap</span><span class="p">,</span>
    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">bo_lock</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">bo_unlock</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">surface_get_plane_data</span> <span class="o">=</span> <span class="n">tbm_shm_surface_get_plane_data</span><span class="p">;</span>
    <span class="n">bufmgr_backend</span><span class="o">-&gt;</span><span class="n">surface_supported_format</span> <span class="o">=</span> <span class="n">tbm_shm_surface_supported_format</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">tbm_backend_init</span><span class="p">(</span><span class="n">bufmgr</span><span class="p">,</span> <span class="n">bufmgr_backend</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">tbm_backend_free</span><span class="p">(</span><span class="n">bufmgr_backend</span><span class="p">);</span>
        <span class="n">free</span><span class="p">(</span><span class="n">bufmgr_shm</span><span class="p">);</span>

        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="porting-the-oal-interface">Porting the OAL Interface</h3>

<p>TBM provides the header files to implement the TBM backend module.</p>

<p><strong>Table: TBM backend module header files</strong></p>

<table>
  <thead>
    <tr>
      <th>Header file</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform/core/uifw/libtbm.git;a=blob;f=src/tbm_bufmgr_backend.h;h=839ec996de16493e40b90c72066448d770575bca;hb=refs/heads/tizen">tbm_bufmgr_backend.h</a></td>
      <td>This file includes information on implementing the TBM backend module.</td>
    </tr>
    <tr>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform/core/uifw/libtbm.git;a=blob;f=src/tbm_drm_helper.h;h=0c93a378d2ddf64f2bcb9ebf6a1d0b85563670a2;hb=refs/heads/tizen">tbm_drm_helper.h</a></td>
      <td>This file includes helper functions for the DRM interface backend module.</td>
    </tr>
    <tr>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform/core/uifw/libtbm.git;a=blob;f=src/tbm_bufmgr.h;h=50fcf08101c2cb0a4b8750f3eda30d375c981ea7;hb=refs/heads/tizen">tbm_bufmgr.h</a></td>
      <td>This is the user header file including general information on how to use the TBM.</td>
    </tr>
    <tr>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform/core/uifw/libtbm.git;a=blob;f=src/tbm_surface.h;h=0686a4ed2d0e26c0386e9f1232f0aa2a6e7f5eb6;hb=refs/heads/tizen">tbm_surface.h</a></td>
      <td>This is the user header file including general information on how to use <code class="highlighter-rouge">tbm_surface</code>.</td>
    </tr>
  </tbody>
</table>

<h4 id="tbm-backend-interface">TBM Backend Interface</h4>

<p>The following table lists the TBM backend interface functions for initializing and deinitializing.</p>

<p><strong>Table: Initializing and deinitializing functions</strong></p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Description</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ModuleInitProc()</code></td>
      <td>The <code class="highlighter-rouge">init</code> function of a backend module.</td>
      <td>Mandatory</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">bufmgr_deinit()</code></td>
      <td>Deinitialize the buffer manager privately.</td>
      <td>Mandatory</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">bufmgr_bind_native_display()</code></td>
      <td>If the backend needs to get the native display, use this backend function.</td>
      <td>Optional</td>
    </tr>
  </tbody>
</table>

<p>The following table lists the TBM backend interface functions for <code class="highlighter-rouge">tbm_bo</code>.</p>

<p><strong>Table: tbm_bo functions</strong></p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Description</th>
      <th>Mandatory</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">bo_alloc()</code></td>
      <td>Allocates the buffer object. If the backend wants to reuse the <code class="highlighter-rouge">bo</code> private at frontend, return the same pointer of the <code class="highlighter-rouge">bo</code> private.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">bo_free()</code></td>
      <td>Frees the buffer object. The frontend calls this function when it does not use the <code class="highlighter-rouge">bo</code> private.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">bo_import()</code></td>
      <td>Imports the buffer object associated with the key. If the backend does not support buffer sharing by the TBM key, the function pointer must be set to <code class="highlighter-rouge">NULL</code>.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">bo_export()</code></td>
      <td>Exports the buffer object. If the backend does not support buffer sharing by TBM key, the function pointer must be set to <code class="highlighter-rouge">NULL</code>.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">bo_import_fd()</code></td>
      <td>Imports the buffer object associated with the prime <code class="highlighter-rouge">fd</code>. The <code class="highlighter-rouge">tbm_fd</code> must be freed by the user. If the backend does not support buffer sharing by TBM <code class="highlighter-rouge">fd</code>, the function pointer must be set to <code class="highlighter-rouge">NULL</code>.</td>
      <td>Yes (Must support buffer sharing by TBM <code class="highlighter-rouge">fd</code>.)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">bo_export_fd()</code></td>
      <td>Imports the buffer object associated with the prime <code class="highlighter-rouge">fd</code>. The <code class="highlighter-rouge">tbm_fd</code> must be freed by the user. If the backend does not support buffer sharing by TBM <code class="highlighter-rouge">fd</code>, the function pointer must be set to <code class="highlighter-rouge">NULL</code>.</td>
      <td>Yes (Must support buffer sharing by TBM <code class="highlighter-rouge">fd</code>.)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">bo_get_flags()</code></td>
      <td>Gets the TBM flags of memory type.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">bo_size()</code></td>
      <td>Gets the size of a buffer object.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">bo_get_handle()</code></td>
      <td>Gets the <code class="highlighter-rouge">tbm_bo_handle</code> according to the device type.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">bo_map()</code></td>
      <td>Maps the buffer object according to the device type and the option.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">bo_unmap()</code></td>
      <td>Unmaps the buffer object.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">bo_lock()</code></td>
      <td>Locks the buffer object with a device and an opt.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">bo_unlock()</code></td>
      <td>Unlocks the buffer object.</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<p>The following table lists the TBM backend interface functions for <code class="highlighter-rouge">tbm_surface</code>.</p>

<p><strong>Table: tbm_surface functions</strong></p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Description</th>
      <th>Mandatory</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">surface_supported_format()</code></td>
      <td>Queries the format list and the number to be supported by backend.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">surface_get_plane_data()</code></td>
      <td>Gets the plane data, such as the size, offset, pitch, and buffer object index of the surface.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">surface_bo_alloc()</code></td>
      <td>Allocates the buffer object for the TBM surface with width, height, format, and buffer object index. If the backend does not want to allocate the buffer of the TBM surface with width, format, and height, the function pointer must be set to <code class="highlighter-rouge">NULL</code>. The TBM frontend allocation buffer of the TBM surface with data is gained from the <code class="highlighter-rouge">surface_get_plane_data()</code>.</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<p>The following table lists the TBM buffer memory types.</p>

<p><strong>Table: TBM buffer memory types</strong></p>

<table>
  <thead>
    <tr>
      <th>Buffer memory type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">TBM_BO_DEFAULT</code></td>
      <td>Default memory: it depends on the backend</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">TBM_BO_SCANOUT</code></td>
      <td>Scanout memory</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">TBM_BO_NONCACHABLE</code></td>
      <td>Non-cachable memory</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">TBM_BO_WC</code></td>
      <td>Write-combine memory</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">TBM_BO_VENDOR</code></td>
      <td>Vendor specific memory (depends on the backend)</td>
    </tr>
  </tbody>
</table>

<p>The following table lists the TBM buffer device types.</p>

<p><strong>Table: TBM buffer device types</strong></p>

<table>
  <thead>
    <tr>
      <th>Device type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">TBM_DEVICE_DEFAULT</code></td>
      <td>Device type to get the default handle</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">TBM_DEVICE_CPU</code></td>
      <td>Device type to get the virtual memory</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">TBM_DEVICE_2D</code></td>
      <td>Device type to get the 2D memory handle</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">TBM_DEVICE_3D</code></td>
      <td>Device type to get the 3D memory handle</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">TBM_DEVICE_MM</code></td>
      <td>Device type to get the multimedia handle</td>
    </tr>
  </tbody>
</table>

<p>The following table lists the TBM buffer access options.</p>

<p><strong>Table: TBM buffer access options</strong></p>

<table>
  <thead>
    <tr>
      <th>Access option</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">TBM_OPTION_READ</code></td>
      <td>Access option to read</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">TBM_OPTION_WRITE</code></td>
      <td>Access option to write</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">TBM_OPTION_VENDOR</code></td>
      <td>Vendor-specific option that depends on the backend</td>
    </tr>
  </tbody>
</table>

<h4 id="tbm-drm-helper-functions">TBM DRM Helper Functions</h4>

<p>If the target uses the <code class="highlighter-rouge">drm</code> interface, the client needs to get the authenticated <code class="highlighter-rouge">fd</code> from the display server and the display server must share the <code class="highlighter-rouge">drm</code> master <code class="highlighter-rouge">fd</code> with the TDM backend module. The TBM frontend provides the helper functions for <code class="highlighter-rouge">drm</code> authentication with the Wayland protocol and shares the master <code class="highlighter-rouge">fd</code> with the TDM backend module.</p>

<p><strong>Table: DRM helper functions</strong></p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">tbm_drm_helper_wl_auth_server_init()</code></td>
      <td>If the TBM backend module need to use the authentication server, the backend module must call this function in the display server.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tbm_drm_helper_wl_auth_server_deinit()</code></td>
      <td>Deinitializes the <code class="highlighter-rouge">drm</code> authentication in the display server.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tbm_drm_helper_get_master_fd()</code></td>
      <td>If the TDM backend module already has a <code class="highlighter-rouge">drm</code> master <code class="highlighter-rouge">fd</code>, the TBM backend module can get the master <code class="highlighter-rouge">fd</code> from this function.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tbm_drm_helper_set_tbm_master_fd()</code></td>
      <td>If the TBM backend module opens the <code class="highlighter-rouge">drm</code> master <code class="highlighter-rouge">fd</code>, this function has to be called for sharing the <code class="highlighter-rouge">drm</code> master <code class="highlighter-rouge">fd</code> with TDM.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tbm_drm_helper_unset_tbm_master_fd()</code></td>
      <td>If the TBM backend module is opened and does not use the <code class="highlighter-rouge">drm</code> master <code class="highlighter-rouge">fd</code>, this function has to be called.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tbm_drm_helper_get_auth_info()</code></td>
      <td>Client gets the authenticated <code class="highlighter-rouge">fd</code> and device info from the display server.</td>
    </tr>
  </tbody>
</table>

<h3 id="tbm-backends">TBM Backends</h3>

<p>The following table lists the TBM backends.</p>

<p><strong>Table: TBM backends</strong></p>

<table>
  <thead>
    <tr>
      <th>Backend</th>
      <th>Project (<a href="http://review.tizen.org/">http://review.tizen.org</a>)</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">libtbm-shm</code></td>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform/adaptation/libtbm-shm.git;a=summary">platform/adaptation/libtbm-shm</a></td>
      <td>Backend for a target device which supports the SHM memory interface. The SHM backend module uses the XSI shared memory segment and does not have hardware dependencies.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">libtbm-dumb</code></td>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform/adaptation/libtbm-dumb.git;a=summary">platform/adaptation/libtbm-dumb</a></td>
      <td>Backend for a target device which supports the DUMB memory interface. If the target kernel supports the <code class="highlighter-rouge">drm</code> interface, the target can use the <code class="highlighter-rouge">dumb</code> backend because the DUMB memory interface is the default <code class="highlighter-rouge">drm</code> memory interface.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">libtbm-sprd</code></td>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform/adaptation/spreadtrum/libtbm-sprd.git;a=summary">platform/adaptation/spreadtrum/libtbm-sprd</a></td>
      <td>Backend for a target device which uses the Spreadtrum chipset only. The <code class="highlighter-rouge">sprd</code> backend module uses the <code class="highlighter-rouge">drm</code> gem memory interface but some <code class="highlighter-rouge">ioctl</code> are only provided by the <code class="highlighter-rouge">sprd drm</code> kernel.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">libtbm-exynos</code></td>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform/adaptation/samsung_exynos/libtbm-exynos.git;a=summary">platform/adaptation/samsung_exynos/libtbm-exynos</a></td>
      <td>Backend for a target device which uses the exynos chipset only. The <code class="highlighter-rouge">exynos</code> backend module uses the <code class="highlighter-rouge">drm</code> gem memory interface but some <code class="highlighter-rouge">ioctl</code> are only provided by <code class="highlighter-rouge">exynos drm</code> kernel.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">libtbm-vigs</code></td>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform/adaptation/emulator/libtbm-vigs.git;a=summary">platform/adaptation/emulator/libtbm-vigs</a></td>
      <td>Backend for a target device which supports the VIGS interface. The <code class="highlighter-rouge">vigs</code> backend is used by the emulator target.</td>
    </tr>
  </tbody>
</table>

<h3 id="reference">Reference</h3>

<p>For more information about TBM and the TBM backend, see <a href="https://wiki.tizen.org/TBM">Tizen Buffer Manager (TBM)</a>.</p>

<h2 id="display-management">Display Management</h2>

<p>The display server composites and shows the client’s buffers on screen. The display server sometimes needs to convert or scale an image to a different size or format. To make it possible for various chipset devices, the display server needs the display hardware resource information and control over the resources. Tizen Display Manager (TDM) offers these functionalities for the display server with the unified interface for various chipset devices.</p>

<p><strong>Figure: TDM backend</strong></p>

<p><img src="media/tdm-backend.png" alt="TDM backend" /></p>

<p>With TDM, the display server can perform mode setting, DPMS control, and showing a buffer (framebuffer or video buffer) on the screen in the most efficient way. If the hardware supports the m2m converting and capture device, the display server can also convert an image and dump a screen including all hardware overlays with no compositing.</p>

<p>The vendor has to implement the TDM backend module. The TDM backend module has the responsibility to let the TDM frontend know the display hardware resource information. The display server gets this information and controls hardware devices through the TDM frontend APIs. TDM already has several backends for reference, such as <code class="highlighter-rouge">libtdm-drm</code> and <code class="highlighter-rouge">libtdm-fbdev</code>.</p>

<p>The TDM backend is implemented as a shared library. The TDM frontend finds the <code class="highlighter-rouge">libtdm-default.so</code> file and loads it in the <code class="highlighter-rouge">/usr/lib/tdm</code> directory at runtime.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sh-3.2# ls -l /usr/lib/tdm
total 40
lrwxrwxrwx 1 root root    14 Jul 28  2016 libtdm-default.so -&gt; libtdm-drm.so
-rwxr-xr-x 1 root root 37152 Jul 12  2016 libtdm-drm.so
</code></pre></div></div>

<p>The TDM backend module must define the global data symbol with the name <code class="highlighter-rouge">tdm_backend_module_data</code>. The TDM frontend reads this symbol at the initialization time. TDM calls the <code class="highlighter-rouge">init()</code> function of the <code class="highlighter-rouge">tdm_backend_module_data</code>. For more information, see <a href="https://review.tizen.org/gerrit/gitweb?p=platform/core/uifw/libtdm.git;a=tree;h=refs/heads/tizen;hb=refs/heads/tizen">tdm_backend.h</a>.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_tdm_backend_module</span> <span class="p">{</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span> <span class="cm">/* The module name of the backend module */</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">vendor</span><span class="p">;</span> <span class="cm">/* The vendor name of the backend module */</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">abi_version</span><span class="p">;</span> <span class="cm">/* The ABI version of the backend module */</span>
    <span class="n">tdm_backend_data</span> <span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="n">init</span><span class="p">)(</span><span class="n">tdm_display</span> <span class="o">*</span><span class="n">dpy</span><span class="p">,</span> <span class="n">tdm_error</span> <span class="o">*</span><span class="n">error</span><span class="p">);</span>
    <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">deinit</span><span class="p">)(</span><span class="n">tdm_backend_data</span> <span class="o">*</span><span class="n">bdata</span><span class="p">);</span>
<span class="p">}</span> <span class="n">tdm_backend_module</span><span class="p">;</span>
</code></pre></div></div>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;tdm_backend.h&gt;
</span>
<span class="k">static</span> <span class="n">tdm_drm_data</span> <span class="o">*</span><span class="n">drm_data</span><span class="p">;</span>

<span class="n">tdm_backend_data</span><span class="o">*</span>
<span class="nf">tdm_drm_init</span><span class="p">(</span><span class="n">tdm_display</span> <span class="o">*</span><span class="n">dpy</span><span class="p">,</span> <span class="n">tdm_error</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">drm_data</span> <span class="o">=</span> <span class="n">calloc</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">tdm_drm_data</span><span class="p">));</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">tdm_backend_data</span><span class="o">*</span><span class="p">)</span><span class="n">drm_data</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span>
<span class="nf">tdm_drm_deinit</span><span class="p">(</span><span class="n">tdm_backend_data</span> <span class="o">*</span><span class="n">bdata</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">free</span><span class="p">(</span><span class="n">bdata</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">tdm_backend_module</span> <span class="n">tdm_backend_module_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"drm"</span><span class="p">,</span>
    <span class="s">"Samsung"</span><span class="p">,</span>
    <span class="n">TDM_BACKEND_SET_ABI_VERSION</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">tdm_drm_init</span><span class="p">,</span>
    <span class="n">tdm_drm_deinit</span>
<span class="p">};</span>
</code></pre></div></div>

<p>The TDM backend must register the <code class="highlighter-rouge">tdm_func_display()</code>, <code class="highlighter-rouge">tdm_func_output()</code>, and <code class="highlighter-rouge">tdm_func_layer()</code> functions with the <code class="highlighter-rouge">tdm_backend_register_func_display()</code>, <code class="highlighter-rouge">tdm_backend_register_func_output()</code>, and <code class="highlighter-rouge">tdm_backend_register_func_layer()</code> functions in the <code class="highlighter-rouge">tdm_backend_module_data</code> <code class="highlighter-rouge">init()</code> function.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;tdm_backend.h&gt;
</span>
<span class="n">tdm_backend_data</span><span class="o">*</span>
<span class="nf">tdm_drm_init</span><span class="p">(</span><span class="n">tdm_display</span> <span class="o">*</span><span class="n">dpy</span><span class="p">,</span> <span class="n">tdm_error</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">memset</span><span class="p">(</span><span class="o">&amp;</span><span class="n">drm_func_display</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">drm_func_display</span><span class="p">));</span>
    <span class="n">drm_func_display</span><span class="p">.</span><span class="n">display_get_capability</span> <span class="o">=</span> <span class="n">drm_display_get_capability</span><span class="p">;</span>
    <span class="n">drm_func_display</span><span class="p">.</span><span class="n">display_get_pp_capability</span> <span class="o">=</span> <span class="n">drm_display_get_pp_capability</span><span class="p">;</span>
    <span class="n">drm_func_display</span><span class="p">.</span><span class="n">display_get_outputs</span> <span class="o">=</span> <span class="n">drm_display_get_outputs</span><span class="p">;</span>
    <span class="n">drm_func_display</span><span class="p">.</span><span class="n">display_get_fd</span> <span class="o">=</span> <span class="n">drm_display_get_fd</span><span class="p">;</span>
    <span class="n">drm_func_display</span><span class="p">.</span><span class="n">display_handle_events</span> <span class="o">=</span> <span class="n">drm_display_handle_events</span><span class="p">;</span>
    <span class="n">drm_func_display</span><span class="p">.</span><span class="n">display_create_pp</span> <span class="o">=</span> <span class="n">drm_display_create_pp</span><span class="p">;</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">tdm_backend_register_func_display</span><span class="p">(</span><span class="n">dpy</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">drm_func_display</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">ret</span> <span class="o">!=</span> <span class="n">TDM_ERROR_NONE</span><span class="p">)</span>
        <span class="k">goto</span> <span class="n">failed</span><span class="p">;</span>

    <span class="n">memset</span><span class="p">(</span><span class="o">&amp;</span><span class="n">drm_func_output</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">drm_func_output</span><span class="p">));</span>
    <span class="n">drm_func_output</span><span class="p">.</span><span class="n">output_get_capability</span> <span class="o">=</span> <span class="n">drm_output_get_capability</span><span class="p">;</span>

    <span class="n">ret</span> <span class="o">=</span> <span class="n">tdm_backend_register_func_output</span><span class="p">(</span><span class="n">dpy</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">drm_func_output</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">ret</span> <span class="o">!=</span> <span class="n">TDM_ERROR_NONE</span><span class="p">)</span>
        <span class="k">goto</span> <span class="n">failed</span><span class="p">;</span>

    <span class="n">memset</span><span class="p">(</span><span class="o">&amp;</span><span class="n">drm_func_layer</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">drm_func_layer</span><span class="p">));</span>
    <span class="n">drm_func_layer</span><span class="p">.</span><span class="n">layer_get_capability</span> <span class="o">=</span> <span class="n">drm_layer_get_capability</span><span class="p">;</span>

    <span class="n">ret</span> <span class="o">=</span> <span class="n">tdm_backend_register_func_layer</span><span class="p">(</span><span class="n">dpy</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">drm_func_layer</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">ret</span> <span class="o">!=</span> <span class="n">TDM_ERROR_NONE</span><span class="p">)</span>
        <span class="k">goto</span> <span class="n">failed</span><span class="p">;</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">tdm_backend_data</span><span class="o">*</span><span class="p">)</span><span class="n">drm_data</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>After loading the TDM backend module, the TDM frontend calls the <code class="highlighter-rouge">display_get_capability()</code>, <code class="highlighter-rouge">display_get_outputs()</code>, <code class="highlighter-rouge">output_get_capability()</code>, <code class="highlighter-rouge">output_get_layers()</code>, and <code class="highlighter-rouge">layer_get_capability()</code> functions to get the hardware-specific information. That means that the TDM backend module must implement these 5 functions.</p>

<p>In addition, if a target has a memory-to-memory converting hardware device and the capture hardware device, the TDM backend module can register the <code class="highlighter-rouge">tdm_func_pp()</code> and <code class="highlighter-rouge">tdm_func_capture()</code> functions with the <code class="highlighter-rouge">tdm_backend_register_func_pp()</code> and <code class="highlighter-rouge">tdm_backend_register_func_capture()</code> functions.</p>

<h3 id="porting-the-oal-interface-1">Porting the OAL Interface</h3>

<p>TDM provides the header files to implement the TDM backend module.</p>

<p><strong>Table: TDM backend module header files</strong></p>

<table>
  <thead>
    <tr>
      <th>Header file</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform/core/uifw/libtdm.git;a=tree;h=refs/heads/tizen;hb=refs/heads/tizen">tdm_backend.h</a></td>
      <td>This file defines the TDM backend interface.</td>
    </tr>
    <tr>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform/core/uifw/libtdm.git;a=tree;h=refs/heads/tizen;hb=refs/heads/tizen">tdm_log.h</a></td>
      <td>This file includes functions to print logs in frontend and backend modules.</td>
    </tr>
    <tr>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform/core/uifw/libtdm.git;a=tree;h=refs/heads/tizen;hb=refs/heads/tizen">tdm_helper.h</a></td>
      <td>This file includes helper functions for the TDM frontend and backend.</td>
    </tr>
  </tbody>
</table>

<p>The display backend interface is mandatory. For more information, see <a href="https://review.tizen.org/gerrit/gitweb?p=platform/core/uifw/libtdm.git;a=tree;h=refs/heads/tizen;hb=refs/heads/tizen">tdm_backend.h</a>.</p>

<p><strong>Table: Display backend interface functions</strong></p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Description</th>
      <th>Mandatory</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">display_get_capability()</code></td>
      <td>Gets the display capabilities of the backend module. TDM calls this function not only at initialization, but also when a new output is connected. If the hardware has a maximum usable layer count restriction, the backend module can set the max count in the <code class="highlighter-rouge">max_layer_count</code> element of the <code class="highlighter-rouge">tdm_caps_display</code> structure. Otherwise, it is set to -1.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">display_get_pp_capability()</code></td>
      <td>Gets the <code class="highlighter-rouge">pp</code> capabilities of the backend module. TDM calls this function not only at initialization, but also when a new output is connected. The backend module does not need to implement this function if the hardware does not have a memory-to-memory converting device. If it does, the backend module must fill the <code class="highlighter-rouge">tdm_caps_pp</code> data, which contains the hardware restriction information which a converting device can handle, such as format and size.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">display_get_capture_capability()</code></td>
      <td>Gets the capture capabilities of the backend module. TDM calls this function not only at initialization, but also when a new output is connected. The backend module does not need to implement this function if the hardware does not have a capture device. If it does, the backend module must fill the <code class="highlighter-rouge">tdm_caps_capture</code> data, which contains the hardware restriction information which a capture device can handle, such as format and size.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">display_get_outputs()</code></td>
      <td>Gets an output array of the backend module. TDM calls this function not only at initialization, but also when a new output is connected. The backend module must return the newly-allocated array which contains <code class="highlighter-rouge">tdm_output*</code> data. It is freed in the frontend.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">display_get_fd()</code></td>
      <td>Gets the file descriptor of the backend module. The backend module can return the epoll’s <code class="highlighter-rouge">fd</code>.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">display_handle_events()</code></td>
      <td>Handles the events which happen on the <code class="highlighter-rouge">fd</code> of the backend module.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">display_create_pp()</code></td>
      <td>Creates a <code class="highlighter-rouge">pp</code> object of the backend module. The backend module does not need to implement this function if the hardware does not have a memory-to-memory converting device</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<p>The output backend interface is mandatory. For more information, see <a href="https://review.tizen.org/gerrit/gitweb?p=platform/core/uifw/libtdm.git;a=tree;h=refs/heads/tizen;hb=refs/heads/tizen">tdm_backend.h</a>.</p>

<p><strong>Table: Output backend interface functions</strong></p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Description</th>
      <th>Mandatory</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">output_get_capability()</code></td>
      <td>Gets the capabilities of an output object. TDM calls this function not only at initialization, but also when a new output is connected. The <code class="highlighter-rouge">tdm_caps_output</code> contains connection status, modes, available properties, and size restriction information.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">output_get_layers()</code></td>
      <td>Gets the layer array of an output object. TDM calls this function not only at initialization, but also when a new output is connected. The backend module must return the newly-allocated array which contains <code class="highlighter-rouge">tdm_layer*</code> data. It is freed in the frontend.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">output_set_property()</code></td>
      <td>Sets the property with a given ID.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">output_get_property()</code></td>
      <td>Gets the property with a given ID.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">output_wait_vblank()</code></td>
      <td>Waits for <code class="highlighter-rouge">VBLANK</code>. If this function returns <code class="highlighter-rouge">TDM_ERROR_NONE</code>, the backend module must call a user <code class="highlighter-rouge">vblank</code> handler with the user data of this function after <code class="highlighter-rouge">vblanks</code> interval.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">output_set_vblank_handler()</code></td>
      <td>Sets the user <code class="highlighter-rouge">vblank</code> handler.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">output_commit()</code></td>
      <td>Commits the changes for an output object. When this function is called, the backend module must apply all changes of the given output object to the screen as well as the layer changes of this output. If this function returns <code class="highlighter-rouge">TDM_ERROR_NONE</code>, the backend module must call a user commit handler with the user data of this function after all changes of the given output object are applied.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">output_set_commit_handler()</code></td>
      <td>Sets a user commit handler.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">output_set_dpms()</code></td>
      <td>Sets the DPMS of an output object.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">output_get_dpms()</code></td>
      <td>Gets the DPMS of an output object.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">output_set_mode()</code></td>
      <td>Sets 1 of the available modes of an output object.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">output_create_capture()</code></td>
      <td>Creates a capture object of an output object. The backend module does not need to implement this function if the hardware does not have a capture device.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">output_set_status_handler()</code></td>
      <td>Sets an output connection status handler. The backend module must call the output status handler when the output connection status has been changed to let the TDM frontend know of the change.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">output_set_dpms_handler()</code></td>
      <td>Sets an output DPMS handler. The backend module must call the output DPMS handler when the output DPMS has been changed to let the TDM frontend know of the change.</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<p>The layer backend interface is mandatory. For more information, see <a href="https://review.tizen.org/gerrit/gitweb?p=platform/core/uifw/libtdm.git;a=tree;h=refs/heads/tizen;hb=refs/heads/tizen">tdm_backend.h</a>.</p>

<p><strong>Table: Layer backend interface functions</strong></p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Description</th>
      <th>Mandatory</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">layer_get_capability()</code></td>
      <td>Get the capabilities of a layer object. The backend module must implement this function. TDM calls this function not only at initialization, but also when a new output is connected. The <code class="highlighter-rouge">tdm_caps_layer</code> contains the available formats/properties and <code class="highlighter-rouge">zpos</code> information.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">layer_set_property()</code></td>
      <td>Sets the property with a given ID.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">layer_get_property()</code></td>
      <td>Gets the property with a given ID.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">layer_set_info()</code></td>
      <td>Sets the geometry information to a layer object. The backend module applies the geometry information when the output object of a layer object is committed.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">layer_get_info()</code></td>
      <td>Gets the geometry information of a layer object.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">layer_set_buffer()</code></td>
      <td>Sets a TDM buffer to a layer object. The backend module shows a TDM buffer on the screen when the output object of a layer object is committed.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">layer_unset_buffer()</code></td>
      <td>Unsets a TDM buffer from a layer object. The backend module must remove the currently-showing buffer from the screen.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">layer_set_video_pos()</code></td>
      <td>Sets the <code class="highlighter-rouge">zpos</code> for a video layer object. The backend module does not need to implement this function if the backend module does not have video layers. The <code class="highlighter-rouge">zpos</code> of the video layer is changeable.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">layer_create_capture()</code></td>
      <td>Creates a capture object of a layer object. The backend module does not need to implement this function if the hardware does not have a capture device.</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">layer_get_buffer_flags()</code></td>
      <td>Gets the buffer flags which the layer can support.</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<p>The <code class="highlighter-rouge">pp</code> backend interface is optional. For more information, see <a href="https://review.tizen.org/gerrit/gitweb?p=platform/core/uifw/libtdm.git;a=tree;h=refs/heads/tizen;hb=refs/heads/tizen">tdm_backend.h</a>.</p>

<p><strong>Table: pp backend interface functions</strong></p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">pp_destroy()</code></td>
      <td>Destroys a <code class="highlighter-rouge">pp</code> object.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">pp_set_info()</code></td>
      <td>Sets the geometry information to a <code class="highlighter-rouge">pp</code> object. The backend module applies the geometry information when committed.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">pp_attach()</code></td>
      <td>Attaches a source buffer and a destination buffer to a <code class="highlighter-rouge">pp</code> object. The backend module converts the image of a source buffer to a destination buffer when committed. The size/crop/transform information is set using the <code class="highlighter-rouge">pp_set_info()</code> function of <code class="highlighter-rouge">tdm_func_pp</code>. When done, the backend module must return the source/destination buffer using the <code class="highlighter-rouge">tdm_pp_done_handler()</code> function.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">pp_commit()</code></td>
      <td>Commits changes for a <code class="highlighter-rouge">pp</code> object.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">pp_set_done_handler()</code></td>
      <td>Sets a user done handler to a <code class="highlighter-rouge">pp</code> object. The backend module must call the <code class="highlighter-rouge">tdm_pp_done_handler()</code> function when image conversion is done.</td>
    </tr>
  </tbody>
</table>

<p>The capture backend interface is optional. For more information, see <a href="https://review.tizen.org/gerrit/gitweb?p=platform/core/uifw/libtdm.git;a=tree;h=refs/heads/tizen;hb=refs/heads/tizen">tdm_backend.h</a>.</p>

<p><strong>Table: Capture backend interface functions</strong></p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">capture_destroy()</code></td>
      <td>Destroys a capture object.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">capture_set_info()</code></td>
      <td>Sets the geometry information to a capture object. The backend module applies the geometry information when committed.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">capture_attach()</code></td>
      <td>Attaches a TDM buffer to a capture object. When the <code class="highlighter-rouge">capture_commit()</code> function is called, the backend module starts to dump an output or a layer to a TDM buffer. The backend module starts to dump an output or a layer to a TDM buffer when committed. The size/crop/transform information is set using the <code class="highlighter-rouge">capture_set_info()</code> function of the <code class="highlighter-rouge">tdm_func_capture</code>. When done, the backend module must return the TDM buffer using the <code class="highlighter-rouge">tdm_capture_done_handler()</code> function.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">capture_commit()</code></td>
      <td>Commits changes for a capture object.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">capture_set_done_handler()</code></td>
      <td>Sets a user done handler to a capture object. The backend module must call the <code class="highlighter-rouge">tdm_capture_done_handler()</code> function when the capture operation is done.</td>
    </tr>
  </tbody>
</table>

<h3 id="tdm-backends">TDM backends</h3>

<p>There are several backends which can be used as reference when implementing the TDM backend.</p>

<p><strong>Table: TDM backends</strong></p>

<table>
  <thead>
    <tr>
      <th>Backend</th>
      <th>Project (<a href="http://review.tizen.org/">http://review.tizen.org</a>)</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">libtdm-drm</code></td>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform/adaptation/libtdm-drm.git;a=summary">platform/adaptation/libtdm-drm</a></td>
      <td>Backend for a target device which supports the DRM interface, such as the Tizen SDK emulator. No PP or capture capability.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">libtdm-fbdev</code></td>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform%2Fadaptation%2Flibtdm-fbdev.git;a=summary">platform/adaptation/libtdm-fbdev</a></td>
      <td>Backend for a target device which supports the FBDEV interface. No PP or capture capability.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">libtdm-exynos</code></td>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform%2Fadaptation%2Fsamsung_exynos%2Flibtdm-exynos.git;a=summary">platform/adaptation/samsung_exynos/libtdm-exynos</a></td>
      <td>Backend for a target device which uses the <code class="highlighter-rouge">exynos</code> chipset using the DRM interface. Has PP and capture capability, using the exynos-specific DRM interface to support PP.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">libtdm-sprd</code></td>
      <td><a href="https://review.tizen.org/gerrit/gitweb?p=platform%2Fadaptation%2Fspreadtrum%2Flibtdm-sprd.git;a=summary">platform/adaptation/spreadtrum/libtdm-sprd</a></td>
      <td>Backend for a target device which uses the Spreadtrum chipset using the Spreadtrum-specific <code class="highlighter-rouge">ioctl</code>. Uses the DRM interface to support <code class="highlighter-rouge">vblank</code>. Has PP capability, but no capture capability.</td>
    </tr>
  </tbody>
</table>

<h3 id="testing-the-porting-result">Testing the Porting Result</h3>

<p>TDM offers the <code class="highlighter-rouge">tdm-test-server</code> tool to allow you to easily test the porting result. The <code class="highlighter-rouge">tdm-test-server</code> tool is included in the <code class="highlighter-rouge">libtdm-tools</code> package, which can be downloaded from the platform binary’s snapshot repository. Make sure that TBM porting is done before using the following commands, because TDM works on top of TBM.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ systemctl stop display-manager  (stop the display server)
$ export XDG_RUNTIME_DIR=/run
$ export TBM_DISPLAY_SERVER=1
$ tdm-test-server                 (show all options)
$ tdm-test-server -a              (test all layers)
$ tdm-test-server -a -v           (test all layers with vblank events)
</code></pre></div></div>

<p>The following image shows the result of a test performed using the <code class="highlighter-rouge">tdm-test-server -a</code> command. The fullscreen buffer is set to the PRIMARY layer, and the small buffer is set to the OVERLAY layer.</p>

<p><strong>Figure: Tdm-test-server results</strong></p>

<p><img src="media/tdm-test-server-result.png" alt="Tdm-test-server results" /></p>

<h3 id="checking-tdm-log-messages">Checking TDM Log Messages</h3>

<p>TDM uses dlog to print debug messages. To show TDM runtime log messages:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dlogutil -v threadtime TDM
</code></pre></div></div>

<h3 id="references">References</h3>

<p>For detailed information about TDM and the TDM backend, see <a href="https://wiki.tizen.org/TDM">Tizen Display Manager (TDM)</a>.</p>

<h2 id="input-management">Input Management</h2>

<p>The input manager supports a <code class="highlighter-rouge">libinput</code>-based input device backend. <code class="highlighter-rouge">libinput</code> is a common input library for the Wayland compositor. With <code class="highlighter-rouge">libinput</code>, the input stack is simpler without the Xorg input drivers. Since Tizen 3.0, the input manager is not a HAL component.</p>

<p><strong>Figure: Tizen 3.0 input management</strong></p>

<p><img src="media/tizen-3.0-input.png" alt="Tizen 3.0 input management" /></p>

<h3 id="libinput">libinput</h3>

<p>The <code class="highlighter-rouge">libinput</code> library handles input devices for display servers and other applications that need to directly deal with input devices:</p>

<ul>
  <li>Device detection</li>
  <li>Device handling</li>
  <li>Input device event processing</li>
  <li>Scaling touch coordinates</li>
  <li>Generating pointer events from touchpads</li>
  <li>Pointer acceleration</li>
</ul>

<p>For more information, see the <a href="https://freedesktop.org/wiki/Software/libinput/">libinput wiki</a>.</p>

<h3 id="libevdev">libevdev</h3>

<p>The <code class="highlighter-rouge">libevdev</code> library handles evdev kernel devices. It abstracts the evdev ioctls through type-safe interfaces and provides functions to change the appearance of the device. For more information, see <a href="https://en.wikipedia.org/wiki/Evdev">https://en.wikipedia.org/wiki/Evdev</a>.</p>

<h3 id="mtdev">mtdev</h3>

<p>The <code class="highlighter-rouge">mtdev</code> standalone library transforms all variants of kernel MT events to the slotted type B protocol. For more information, see <a href="http://www.linuxfromscratch.org/blfs/view/svn/general/mtdev.html">http://www.linuxfromscratch.org/blfs/view/svn/general/mtdev.html</a>.</p>

<h3 id="libinput-backends">libinput Backends</h3>

<p><code class="highlighter-rouge">libinput: platform/upstream/libinput</code></p>

<h2 id="opengl">OpenGL®</h2>

<p>This section describes the essential elements of the Tizen platform-level graphics architecture related to OpenGL® ES and EGL™, and how it is used by the application framework and the display server. The focus is on how graphical data buffers move through the system.</p>

<p>The Tizen platform requires the OpenGL® ES driver for the acceleration of the Wayland display server and the <code class="highlighter-rouge">wayland-egl</code> client. This platform demands an OpenGL® ES and EGL™ driver which is implemented by the Tizen EGL Porting Layer.</p>

<h3 id="tizen-opengl-es-and-egl-architecture">Tizen OpenGL® ES and EGL™ Architecture</h3>

<p>The following figure illustrates the Tizen OpenGL® ES and EGL™ architecture.</p>

<p><strong>Figure: Tizen OpenGL® ES architecture</strong></p>

<p><img src="media/800px-opengles-stack.png" alt="Tizen OpenGL ES architecture" /></p>

<ul>
  <li>
    <p>CoreGL</p>

    <p>An injection layer of OpenGL® ES that provides the following capabilities:</p>

    <ul>
      <li>Support for driver-independent optimization (FastPath)</li>
      <li>EGL™/OpenGL® ES debugging</li>
      <li>Performance logging</li>
      <li>Supported versions
        <ul>
          <li>EGL™ 1.4</li>
          <li>OpenGL® ES 1.1, 2.0, 3.0, 3.1</li>
        </ul>
      </li>
    </ul>

    <p>CoreGL loads the manufacturer’s OpenGL® ES driver from the <code class="highlighter-rouge">/usr/lib/driver</code> directory. CoreGL provides the <code class="highlighter-rouge">libEGL.so</code>, <code class="highlighter-rouge">libGLESv1_CM.so</code>, and <code class="highlighter-rouge">libGLESvs.so</code> driver files in the <code class="highlighter-rouge">/usr/lib</code> directory.</p>
  </li>
  <li>
    <p>GPU vendor GL/EGL™ driver</p>

    <p>The Tizen platform demands that the GPU vendor implements the GL and EGL™ driver using <code class="highlighter-rouge">libtpl-egl</code>. The GPU vendor GL/EGL™ driver (<code class="highlighter-rouge">libEGL.so</code>, <code class="highlighter-rouge">libGLESv1_CM.so</code>, <code class="highlighter-rouge">libGLESv2.so</code>) must be installed in the <code class="highlighter-rouge">/usr/lib/driver</code> path.</p>
  </li>
</ul>

<h3 id="tizen-porting-layer-tpl-for-egl">Tizen Porting Layer (TPL) for EGL™</h3>

<p>TPL-EGL is an abstraction layer for surface and buffer management on the Tizen platform. It is used for implementation of the EGL™ platform functions.</p>

<p><strong>Figure: TPL architecture</strong></p>

<p><img src="media/800px-tpl-architecture.png" alt="TPL architecture" /></p>

<p>The background for the Tizen EGL Porting Layer for EGL™ is in various window system protocols in Tizen. There was a need for separating common layer and backend.</p>

<p>Tizen uses the Tizen Porting Layer for EGL™, as the TPL-EGL API prevents burdens of the EGL™ porting on various window system protocols. The GPU GL Driver’s Window System Porting Layer can be implemented by TPL-EGL APIs which are the corresponding window system APIs. The TBM, Wayland, and GBM backends are supported.</p>

<h3 id="tizen-porting-layer-for-the-egl-object-model">Tizen Porting Layer for the EGL™ Object Model</h3>

<p>TPL-EGL provides interfaces based on an object-driven model. Every TPL-EGL object can be represented as a generic <code class="highlighter-rouge">tpl_object_t</code>, which is reference-counted and provides common functions. Currently, display and surface types of TPL-EGL objects are provided. A display, like a normal display, represents a display system which is usually used for connecting to the server. A surface corresponds to a native surface, such as <code class="highlighter-rouge">wl_surface</code>. Surfaces can be configured to use N-buffers, but are usually double-buffered or triple-buffered. A buffer is what you render on, usually a set of pixels or a block of memory. For these 2 objects, the Wayland, GBM, TBM backend are defined, and they correspond to their own window systems. This means that you do not need to care about the window systems.</p>

<p>The TPL-EGL has the following core objects:</p>

<ul>
  <li>
    <p>TPL-EGL Object</p>

    <p>Base class for all TPL-EGL objects.</p>
  </li>
  <li>
    <p>TPL-EGL Display</p>

    <p>Encapsulates the native display object (<code class="highlighter-rouge">Display *</code>, <code class="highlighter-rouge">wl_display</code>). Like a normal display, this represents a display system which is usually used for connecting to the server, scope for other objects.</p>
  </li>
  <li>
    <p>TPL-EGL Surface</p>

    <p>Encapsulates the native drawable object (<code class="highlighter-rouge">Window</code>, <code class="highlighter-rouge">Pixmap</code>, <code class="highlighter-rouge">wl_surface</code>). The surface corresponds to a native surface, such as <code class="highlighter-rouge">tbm_surface_queue</code> or <code class="highlighter-rouge">wl_surface</code>. A surface can be configured to use N-buffers, but they are usually double-buffered or triple-buffered.</p>
  </li>
</ul>

<h4 id="tpl-egl-objects-and-corresponding-egl-objects">TPL-EGL Objects and Corresponding EGL™ Objects</h4>

<p>Both TPL-EGL and vendor OpenGL® ES/EGL™ driver handles a <code class="highlighter-rouge">tbm_surface</code> as the corresponding TPL surface buffer. It is represented by the <code class="highlighter-rouge">TBM_Surface</code> part in the following figure.</p>

<p><strong>Figure: TPL-EGL architecture</strong></p>

<p><img src="media/800px-relationship-tpl-egl-gray.png" alt="TPL-EGL architecture" /></p>

<p>The following figure illustrates the OpenGL® ES drawing API flow.</p>

<p><strong>Figure: OpenGL® ES drawing API flow</strong></p>

<p><img src="media/800px-gles-api-flow-gray.png" alt="GLES drawing API flow" /></p>

<h4 id="tpl-egl-frontend-api">TPL-EGL Frontend API</h4>

<p><strong>TPL-EGL Object</strong> is a base class for all TPL-EGL objects. It provides common functionalities to all TPL-EGL objects.</p>

<p><strong>Table: TPL-EGL Object functions</strong></p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">tpl_object_reference()</code></td>
      <td>Increases the reference count of a TPL-EGL object. All TPL-EGL objects are reference-counted with a reference count 1 on creation. When the reference count drops to 0, the object is freed.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_object_unreference()</code></td>
      <td>Decreases the reference count and destroys the object if it becomes 0.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_object_get_reference()</code></td>
      <td>Gets the reference count of the given TPL-EGL object.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_object_get_type()</code></td>
      <td>Gets the type of the object (display, surface, or buffer).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_object_set_user_data()</code></td>
      <td>Sets the user data to a TPL-EGL object. If the user wants to relate some data with a TPL-EGL object, this function allows them to register a pointer to such data, which can be retrieved later using the <code class="highlighter-rouge">tpl_object_get_user_data()</code> function. The key is the pointer value itself as a key.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_object_get_user_data()</code></td>
      <td>Gets the registered user data of a TPL-EGL object.</td>
    </tr>
  </tbody>
</table>

<p><strong>TPL-EGL Display</strong> encapsulates the native display object (<code class="highlighter-rouge">Display *</code>, <code class="highlighter-rouge">wl_display</code>). Any other objects created from TPL-EGL Display inherit its backend type.</p>

<p><strong>Table: TPL-EGL Display functions</strong></p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">tpl_display_create()</code></td>
      <td>Creates the TPL-EGL display object for the given native display if there is no existing TPL-EGL display for that native display. If given <code class="highlighter-rouge">NULL</code> for <code class="highlighter-rouge">native_dpy</code>, this function returns the default display.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_display_get()</code></td>
      <td>Gets the TPL-EGL display object for the given native display if one exists for it.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_display_get_native_handle()</code></td>
      <td>Gets the native display handle which the given TPL-EGL display is created for.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_display_query_config()</code></td>
      <td>Queries the supported pixel formats for the given TPL-EGL display. If any pixel format values are acceptable, use the <code class="highlighter-rouge">TPL_DONT_CARE</code> value for the size values .</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_display_filter_config()</code></td>
      <td>Filters the configuration according to a given TPL-EGL display. This function modifies current config specific to the current given TPL-EGL display.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_display_get_native_window_info()</code></td>
      <td>Queries information on the given native window.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_display_get_native_pixmap_info()</code></td>
      <td>Queries information on the given native pixmap.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_display_get_buffer_from_native_pixmap()</code></td>
      <td>Gets the native buffer from the given native pixmap.</td>
    </tr>
  </tbody>
</table>

<p><strong>TPL-EGL Surface</strong> encapsulates the native drawable object (<code class="highlighter-rouge">Window</code>, <code class="highlighter-rouge">Pixmap</code>, <code class="highlighter-rouge">wl_surface</code>). The main features of the class are retrieving the buffer for a frame and posting the surface to a screen.</p>

<p><strong>Table: TPL-EGL Surface functions</strong></p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">tpl_surface_create()</code></td>
      <td>Creates a TPL-EGL surface for the given native surface.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_surface_get_display()</code></td>
      <td>Gets the TPL-EGL display where the given TPL-EGL surface was created from.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_surface_get_native_handle()</code></td>
      <td>Gets the native surface handle of the given TPL-EGL surface.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_surface_get_type()</code></td>
      <td>Gets the type of the given TPL surface.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_surface_get_size()</code></td>
      <td>Gets the current size of the given TPL-EGL surface. The size of a surface can change when a user or the server resizes the window. TPL-EGL updates the size information every time when a buffer is queried using the <code class="highlighter-rouge">tpl_surface_dequeue_buffer()</code> function. Note that there can still be mismatch between actual surface size and the cached one.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_surface_validate()</code></td>
      <td>Validates the current frame of the given TPL-EGL surface. Call this function before getting the final render target buffer, as calling the <code class="highlighter-rouge">tpl_surface_dequeue_buffer()</code> function after calling this function can give output values different to earlier ones. A buffer returned after calling this function is guaranteed not to change further.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_surface_dequeue_buffer()</code></td>
      <td>Gets the buffer of the current frame for the given TPL-EGL surface. Depending on the backend, communication with the server can be required. Returned buffers are used for rendering the target to draw the current frame. Returned buffers are valid until the next <code class="highlighter-rouge">tpl_surface_dequeue_buffer()</code> function call. If the <code class="highlighter-rouge">tpl_surface_validate()</code> function returns <code class="highlighter-rouge">TPL_FALSE</code>, the previously returned buffers must no longer be used. Instead, this function must called again before drawing, returning a valid buffer.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_surface_enqueue_buffer()</code></td>
      <td>Posts a given <code class="highlighter-rouge">tbm_surface</code>. This function requests the display server to post a frame. This is the function which can enqueue a buffer to the <code class="highlighter-rouge">tbm_surface_queue</code>. Make sure this function is called exactly once for a frame. Scheduling post calls on a separate thread is recommended.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_surface_enqueue_buffer_with_damage()</code></td>
      <td>Posts a given <code class="highlighter-rouge">tbm_surface</code> with region of damage. Damage information is used for reducing number of pixels composited in the compositor. Setting the <code class="highlighter-rouge">num_rects</code> to 0 or <code class="highlighter-rouge">rects</code> to <code class="highlighter-rouge">NULL</code> means entire area is damaged. This function requests a server to post a frame. This function is identical with the <code class="highlighter-rouge">tpl_surface_enqueue_buffer()</code> function except for delivering the damage information for updating. Make sure this function is called exactly once for a frame. Scheduling post calls on a separate thread is recommended.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_surface_set_post_interval()</code></td>
      <td>Sets the frame interval of the given TPL-EGL surface, which ensures that only a single frame is posted within the specified vsync intervals. When a frame ends, the frame interval is set to the surface’s current interval.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl_surface_get_post_interval()</code></td>
      <td>Gets the frame interval of the given TPL-EGL surface.</td>
    </tr>
  </tbody>
</table>

<p>The following code snippet shows a simple example of the Tizen Porting Layer:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dpy</span> <span class="o">=</span> <span class="n">tpl_display_create</span><span class="p">(...);</span>
<span class="n">sfc</span> <span class="o">=</span> <span class="n">tpl_surface_create</span><span class="p">(</span><span class="n">dpy</span><span class="p">,</span> <span class="p">...);</span>

<span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">buf</span> <span class="o">=</span> <span class="n">tpl_surface_dequeue_buffer</span><span class="p">(</span><span class="n">sfc</span><span class="p">);</span>

    <span class="cm">/* Draw something */</span>

    <span class="n">tpl_surface_enqueue_buffer</span><span class="p">(</span><span class="n">sfc</span><span class="p">,</span> <span class="n">buf</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In the GPU vendor driver, the GPU frame builder handles the drawing. TPL-EGL exposes the native platform buffer identifiers and managers so that the buffer can be used in other modules. Currently, <code class="highlighter-rouge">dma_buf/DRM</code> is supported for these purposes. The EGL porting layer calls TPL-EGL functions to execute commands requested of it, and returns the results to the GPU vendor driver. TPL-EGL performs all protocol-dependent actions. Such protocol-dependent parts can be separated into TPL-EGL backends. TPL-EGL backend can also be configured at runtime, and you can specify which type of backend to use when initializing a display object.</p>

<h4 id="tpl-egl-and-wayland-server-and-client">TPL-EGL and Wayland Server and Client</h4>

<p>Tizen uses the <code class="highlighter-rouge">wl_tbm</code> protocol instead of <code class="highlighter-rouge">wl_drm</code>. The <code class="highlighter-rouge">wl_tbm</code> protocol is designed for sharing the buffer (<code class="highlighter-rouge">tbm_surface</code>) between the <code class="highlighter-rouge">wayland_client</code> and <code class="highlighter-rouge">wayland_server</code>. Although the <code class="highlighter-rouge">wayland_tbm_server_init</code> and <code class="highlighter-rouge">wayland_tbm_client_init</code> pair is a role for the <code class="highlighter-rouge">eglBindWaylandDisplayWL</code>, the EGL™ driver is required to implement the entry points for the <code class="highlighter-rouge">eglBindWaylandDisplayWL</code> and <code class="highlighter-rouge">eglUnbindWaylandDisplayWL</code> as dummy. For more information, see <a href="https://cgit.freedesktop.org/mesa/mesa/tree/docs/specs/WL_bind_wayland_display.spec">https://cgit.freedesktop.org/mesa/mesa/tree/docs/specs/WL_bind_wayland_display.spec</a>.</p>

<p><strong>Figure: TPL-EGL and Wayland</strong></p>

<p><img src="media/800px-libtpl-egl-module-diagram.png" alt="TPL-EGL and Wayland" /></p>

<h4 id="buffer-flow-between-the-wayland-server-and-opengl-esegl-driver">Buffer Flow Between the Wayland Server and OpenGL® ES/EGL™ Driver</h4>

<p>The following figure shows the buffer flow between the Wayland server and the OpenGL® ES/EGL™ driver. The passed buffer is of the <code class="highlighter-rouge">tbm_surface</code> type.</p>

<p><strong>Figure: Buffer flow between Wayland server and OpenGL® ES/EGL™ driver</strong></p>

<p><img src="media/800px-libtpl-egl-buffer-flow.png" alt="Buffer flow between Wayland server and OpenGL ES/EGL driver" /></p>

<h3 id="project-git-repository">Project Git Repository</h3>

<p>The following table lists the available project Git repositories.</p>

<p><strong>Table: Git repositories</strong></p>

<table>
  <thead>
    <tr>
      <th>Project</th>
      <th>Repository</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">libtpl-egl</code></td>
      <td><code class="highlighter-rouge">platform/core/uifw/libtpl-egl</code></td>
      <td>Tizen Porting Layer for EGL™</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">libtbm</code></td>
      <td><code class="highlighter-rouge">platform/core/uifw/libtbm</code></td>
      <td>Library for the Tizen Buffer Manager</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">coregl</code></td>
      <td><code class="highlighter-rouge">platform/core/uifw/coregl</code></td>
      <td>Injection layer of OpenGL® ES / EGL™</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">wayland-tbm</code></td>
      <td><code class="highlighter-rouge">platform/core/uifw/wayland-tbm</code></td>
      <td>Protocol for graphics memory management for Tizen</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">emulator-yagl</code></td>
      <td><code class="highlighter-rouge">platform/adaptation/emulator/emulator-yagl</code></td>
      <td>OpenGL® ES / EGL™ driver for the emulator</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tpl-novice</code></td>
      <td><code class="highlighter-rouge">platform/core/uifw/ws-testcase</code></td>
      <td>Novice test framework for TPL</td>
    </tr>
  </tbody>
</table>

<h3 id="libtpl-egl-reference-driver">libtpl-egl Reference Driver</h3>

<p>The Emulator YAGL (OpenGL® ES / EGL™ driver for the emulator) is implemented by <code class="highlighter-rouge">libtpl-egl</code>.</p>

<p>The following commit explains how to port the driver with <code class="highlighter-rouge">libtpl-egl</code> from the traditional drm-based driver:</p>

<ul>
  <li>Porting YAGL to the Tizen platform <a href="https://review.tizen.org/gerrit/#/c/67921/">https://review.tizen.org/gerrit/#/c/67921/</a></li>
</ul>

<h3 id="testing-and-verifying-the-opengl-es-driver">Testing and Verifying the OpenGL® ES Driver</h3>

<p>The Khronos OpenGL® ES CTS supports <code class="highlighter-rouge">wayland-egl</code>. <code class="highlighter-rouge">libtpl-egl</code> has a test case for the <code class="highlighter-rouge">libtpl-egl</code>. The <code class="highlighter-rouge">ws-testcase</code>’s <code class="highlighter-rouge">tpl-novice</code> has sample code for the <code class="highlighter-rouge">libtpl-egl</code>.</p>


						</section>
					</main>
					<nav class="col-nav">
						<div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
						    


<div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
        
        
        
        
    
        <li>
            <a 
                href="iot/about/work-flow/" 
                data-target="#item1" 
                data-toggle="collapse" 
                data-parent="#stacked-menu"
                aria-expanded=" false "
                class=" collapsed "
                >
                    IOT Overview
                    <span class="caret arrow"></span>
            </a>
            

            
            <ul class="nav collapse" aria-expanded="false" id="#item1">
            

                
                <li>
                    
                    
                    <a 
                        href="iot/about/work-flow/" 
                        class=""
                        >
                        IOT Development Workflow
                    </a>
                    
                </li>
                
                <li>
                    
                    
                    <a 
                        href="iot/about/git-repo-structure/" 
                        class=""
                        >
                        IOT Git Repository Structure
                    </a>
                    
                </li>
                
                <li>
                    
                    
                    <a 
                        href="iot/about/conventions/" 
                        class=""
                        >
                        Typographic Conventions
                    </a>
                    
                </li>
                
            </ul>
            
        </li>
    
        
        
        
    
        <li>
            <a 
                href="iot/developing/installing" 
                data-target="#item2" 
                data-toggle="collapse" 
                data-parent="#stacked-menu"
                aria-expanded=" false "
                class=" collapsed "
                >
                    IOT Developing
                    <span class="caret arrow"></span>
            </a>
            

            
            <ul class="nav collapse" aria-expanded="false" id="#item2">
            

                
                <li>
                    
                    
                    <a 
                        href="iot/developing/installing/" 
                        class=""
                        >
                        Installing Development Tools
                    </a>
                    
                </li>
                
                <li>
                    
                    
                    <a 
                        href="iot/developing/setting-up/" 
                        class=""
                        >
                        Setting up Development Environment
                    </a>
                    
                </li>
                
                <li>
                    
                    
                    <a 
                        href="iot/developing/cloning/" 
                        class=""
                        >
                        Cloning Tizen Source Files
                    </a>
                    
                </li>
                
                <li>
                    
                    
                    <a 
                        href="iot/developing/building/" 
                        class=""
                        >
                        Building Packages Locally with GBS
                    </a>
                    
                </li>
                
                <li>
                    
                    
                    <a 
                        href="iot/developing/building-all/" 
                        class=""
                        >
                        Building All Packages Locally with GBS
                    </a>
                    
                </li>
                
                <li>
                    
                    
                    <a 
                        href="iot/developing/contributing/" 
                        class=""
                        >
                        Contributing Code to Tizen
                    </a>
                    
                </li>
                
                <li>
                    
                    
                    <a 
                        href="iot/developing/creating/" 
                        class=""
                        >
                        Creating Tizen Images with MIC
                    </a>
                    
                </li>
                
                <li>
                    
                    
                    <a 
                        href="iot/developing/flashing/" 
                        class=""
                        >
                        Flashing an Image to Device
                    </a>
                    
                </li>
                
                <li>
                    
                    
                    <a 
                        href="iot/developing/tips/" 
                        class=""
                        >
                        Development Tips
                    </a>
                    
                </li>
                
            </ul>
            
        </li>
    
        
        
        
    
        <li>
            <a 
                href="iot/porting/overview/" 
                data-target="#item3" 
                data-toggle="collapse" 
                data-parent="#stacked-menu"
                aria-expanded=" true "
                class=" not-collapsed "
                >
                    Porting
                    <span class="caret arrow"></span>
            </a>
            

            
            <ul class="nav collapse in" aria-expanded="true" id="#item3">
            

                
                <li>
                    
                    
                    <a 
                        href="iot/porting/overview/" 
                        class=""
                        >
                        Overview
                    </a>
                    
                </li>
                
                <li>
                    
                    
                    <a 
                        href="iot/porting/kernel/" 
                        class=""
                        >
                        Kernel
                    </a>
                    
                </li>
                
                <li>
                    
                    
                    <a 
                        href="iot/porting/system/" 
                        class=""
                        >
                        System
                    </a>
                    
                </li>
                
                <li>
                    
                    
                    <a 
                        href="iot/porting/graphics-and-ui/" 
                        class="active currentPage"
                        >
                        Graphics and UI
                    </a>
                    
                </li>
                
            </ul>
            
        </li>
    
        
        
        
    
        <li>
            <a 
                href="iot/reference/gerrit-usage/" 
                data-target="#item4" 
                data-toggle="collapse" 
                data-parent="#stacked-menu"
                aria-expanded=" false "
                class=" collapsed "
                >
                    Reference
                    <span class="caret arrow"></span>
            </a>
            

            
            <ul class="nav collapse" aria-expanded="false" id="#item4">
            

                
                <li>
                    
                    
                    <a 
                        href="iot/reference/gerrit-usage/" 
                        class=""
                        >
                        Gerrit
                    </a>
                    
                </li>
                
                <li>
                    
                    
                    <a 
                        href="iot/reference/gbs/gbs-overview/"
                        class=""
                        aria-expanded=" false "
                        data-target="#item2" 
                        data-toggle="collapse" 
                        >
                        Git Build System (GBS)
                        <span class="caret arrow"></span>
                    </a>
                    
                    
                    <ul class="nav collapse" aria-expanded="false" id="#item2">
                    
                        
                        <li>
                            
                            <a 
                                href="iot/reference/gbs/gbs-overview/"
                                class=""
                                >
                                Overview
                            </a>
                        </li>
                        
                        <li>
                            
                            <a 
                                href="iot/reference/gbs/gbs.conf/"
                                class=""
                                >
                                GBS Configuration
                            </a>
                        </li>
                        
                        <li>
                            
                            <a 
                                href="iot/reference/gbs/gbs-maintenance-models/"
                                class=""
                                >
                                GBS Maintenance Models
                            </a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li>
                    
                    
                    <a 
                        href="iot/reference/mic/mic-overview/"
                        class=""
                        aria-expanded=" false "
                        data-target="#item3" 
                        data-toggle="collapse" 
                        >
                        MIC Image Creator
                        <span class="caret arrow"></span>
                    </a>
                    
                    
                    <ul class="nav collapse" aria-expanded="false" id="#item3">
                    
                        
                        <li>
                            
                            <a 
                                href="iot/reference/mic/mic-overview/"
                                class=""
                                >
                                Overview
                            </a>
                        </li>
                        
                        <li>
                            
                            <a 
                                href="iot/reference/mic/mic-customize-image/"
                                class=""
                                >
                                Customizing Images
                            </a>
                        </li>
                        
                        <li>
                            
                            <a 
                                href="iot/reference/mic/mic-reference/"
                                class=""
                                >
                                MIC Reference
                            </a>
                        </li>
                        
                    </ul>
                    
                </li>
                
            </ul>
            
        </li>
    
        
        
    </ul>
</div>
<script>
    $("a[href$='/iot/porting/graphics-and-ui/']").addClass("active currentPage");
</script>
						</div>
					</nav>
					<div class="col-toc">
						<div class="sidebar hidden-xs hidden-sm">
							<div class="toc-nav">
								<div class="feedback-links">
									<ul>
										
                                        <li style="visibility: hidden">
                                            <a href="">
                                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i> 
                                                Edit this page
                                            </a>
                                        </li>
                                        
										<li>
                                            <a href="https://github.com/samsung-test/samsung-test.github.io/edit/1.1/iot/porting/graphics-and-ui.md" target="_blank">
                                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                                Edit Page
                                            </a>
                                        </li>
                                        <li>
                                            <a href="https://github.com/samsung-test/samsung-test.github.io/issues/new" class="nomunge" target="_blank">
                                                <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                                                Report Issue
                                            </a>
                                        </li>
									</ul>
								</div>
								   
									<div id="side-toc-title">On this page:</div>
									
<ul id="my_toc" class="inline_toc">
  <li><a href="#buffer-management" class="nomunge">Buffer Management</a>
    <ul>
      <li><a href="#initialing-the-tbm-backend-module" class="nomunge">Initialing the TBM Backend Module</a></li>
      <li><a href="#porting-the-oal-interface" class="nomunge">Porting the OAL Interface</a></li>
      <li><a href="#tbm-backends" class="nomunge">TBM Backends</a></li>
      <li><a href="#reference" class="nomunge">Reference</a></li>
    </ul>
  </li>
  <li><a href="#display-management" class="nomunge">Display Management</a>
    <ul>
      <li><a href="#porting-the-oal-interface-1" class="nomunge">Porting the OAL Interface</a></li>
      <li><a href="#tdm-backends" class="nomunge">TDM backends</a></li>
      <li><a href="#testing-the-porting-result" class="nomunge">Testing the Porting Result</a></li>
      <li><a href="#checking-tdm-log-messages" class="nomunge">Checking TDM Log Messages</a></li>
      <li><a href="#references" class="nomunge">References</a></li>
    </ul>
  </li>
  <li><a href="#input-management" class="nomunge">Input Management</a>
    <ul>
      <li><a href="#libinput" class="nomunge">libinput</a></li>
      <li><a href="#libevdev" class="nomunge">libevdev</a></li>
      <li><a href="#mtdev" class="nomunge">mtdev</a></li>
      <li><a href="#libinput-backends" class="nomunge">libinput Backends</a></li>
    </ul>
  </li>
  <li><a href="#opengl" class="nomunge">OpenGL®</a>
    <ul>
      <li><a href="#tizen-opengl-es-and-egl-architecture" class="nomunge">Tizen OpenGL® ES and EGL™ Architecture</a></li>
      <li><a href="#tizen-porting-layer-tpl-for-egl" class="nomunge">Tizen Porting Layer (TPL) for EGL™</a></li>
      <li><a href="#tizen-porting-layer-for-the-egl-object-model" class="nomunge">Tizen Porting Layer for the EGL™ Object Model</a></li>
      <li><a href="#project-git-repository" class="nomunge">Project Git Repository</a></li>
      <li><a href="#libtpl-egl-reference-driver" class="nomunge">libtpl-egl Reference Driver</a></li>
      <li><a href="#testing-and-verifying-the-opengl-es-driver" class="nomunge">Testing and Verifying the OpenGL® ES Driver</a></li>
    </ul>
  </li>
</ul>


								</div>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
    <div class="container-fluid">
  <div class="top_footer">
    <div class="footer-nav">
      <nav class="footer_sub_nav">
        <ul class="menu">
          <li><a href="https://developer.tizen.org/">Developer</a></li>
          <li><a href="https://dashboard.tizen.org/">Dashboard</a></li>
          <li><a href="https://craftroom.tizen.org/">Craftroom</a></li>
        </ul>
      </nav>
    </div>
  </div>
  <div class="bottom_footer">
    <div class="footer-copyright col-xs-12 col-md-8">
      <p class="copyright">
        Copyright &copy; 2019 Tizen Inc. All rights reserved.
      </p>
    </div>
    <div class="footer_social_nav">
      <ul class="nav-social">
        <li class="fa fa-github"><a href="https://github.com/samsung-test">GitHub</a></li>  
        <li class="fa fa-twitter"><a href="https://twitter.com/TizenProject">Twitter</a></li>
        <li class="fa fa-facebook"><a href="http://www.facebook.com/pages/Tizen-Project">Facebook</a></li>
      </ul>
    </div>
  </div>
</div>

    <div id="templates"></div>
    <script type="text/javascript" src="/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/js/common.js?v=09122019"></script>
<script type="text/javascript" src="/js/handlebars-v4.0.11.js?v=09122019"></script>
<script type="text/javascript" src="/js/widgets-data.js?v=09122019"></script>
<script type="text/javascript" src="/js/widgets.js?v=09122019"></script>
<script type="text/javascript" src="/js/highlight.pack.js"></script>
<script type="text/javascript" src="/js/tocs.js"></script>
<script type="text/javascript" src="/js/menu.js"></script>
<script type="text/javascript" src="/js/stickyfill.min.js"></script>
<script type="text/javascript" src="/js/metadata.js"></script>
<script type="text/javascript" src="/js/docs.js"></script>
</body>
</html>
