<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: $title</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Tizen Native API"/>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Native&#160;API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('eina_stringshare_example_01_page.html','');
</script>
<div id="doc-content">
<div class="contents">
<div class="textblock"><p>Like all examples we start by including Eina: <div class="fragment"><pre class="fragment"></pre></div></p>
<p>Here we declare some variables and initialize eina: <div class="fragment"><pre class="fragment"></pre></div></p>
<p>We start the substantive part of the example by showing how to make a part of a string shared and how to get the length of a shared string: <div class="fragment"><pre class="fragment"></pre></div> As we add shared strings we also need to delete them when done using them: <div class="fragment"><pre class="fragment"></pre></div></p>
<p>There are many ways of creating shared strings including an equivalent to sprintf: <div class="fragment"><pre class="fragment"></pre></div></p>
<p>An equivalent to snprintf: <div class="fragment"><pre class="fragment"></pre></div></p>
<p>But the simplest way of creating a shared string is through <a class="el" href="group__Eina__Stringshare__Group.html#ga5293082680141132ffcacc28866ef0ef" title="Retrieve an instance of a string for use in a program.">eina_stringshare_add()</a>: <div class="fragment"><pre class="fragment"></pre></div></p>
<p>Sometimes you already have a pointer to a shared string and want to use it, so to make sure the provider of the pointer won't free it while you're using it you can increase the shared string's ref count: <div class="fragment"><pre class="fragment"></pre></div></p>
<p>Whenever you have a pointer to a shared string and would like to change it's value you should use <a class="el" href="group__Eina__Stringshare__Group.html#ga9e32a137ce8c4cd5f6ec3dbde3dbedd8" title="Replace the previously stringshared pointer with new content.">eina_stringshare_replace()</a>: <div class="fragment"><pre class="fragment"></pre></div> </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd><b>Don't</b> use <a class="el" href="group__Eina__Stringshare__Group.html#ga495411b0bc85b9c0d59ec7255a025260" title="Note that the given string has lost an instance.">eina_stringshare_del()</a> followed by eina_share_common_add(), under some circunstances you might end up deleting a shared string some other piece of code is using.</dd></dl>
<p>We created str but haven't deleted it yet, and while we called <a class="el" href="group__Eina__Stringshare__Group.html#ga495411b0bc85b9c0d59ec7255a025260" title="Note that the given string has lost an instance.">eina_stringshare_del()</a> on str2, we created it and then increased the ref count so it's still alive: <div class="fragment"><pre class="fragment"></pre></div></p>
<p>You can see the full source code <a class="el" href="eina_stringshare_example_01.html">here</a>. </p>
</div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
